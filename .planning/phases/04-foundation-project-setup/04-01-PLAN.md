---
phase: 04-foundation-project-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web/package.json
  - web/vite.config.ts
  - web/tsconfig.json
  - web/tsconfig.app.json
  - web/tsconfig.node.json
  - web/index.html
  - web/src/main.tsx
  - web/src/App.tsx
  - web/src/vite-env.d.ts
  - package.json
autonomous: true

must_haves:
  truths:
    - "User can run npm run dev:web and see Vite dev server start on port 5173"
    - "User can visit http://localhost:5173 and see the React app load"
    - "Web app uses TypeScript with strict type checking enabled"
    - "Vite HMR works - changes to App.tsx reflect immediately in browser"
  artifacts:
    - path: "web/package.json"
      provides: "Frontend package configuration with React + Vite dependencies"
      contains: ["\"react\":", "\"vite\":", "\"@vitejs/plugin-react\":"]
    - path: "web/vite.config.ts"
      provides: "Vite build configuration with React plugin"
      contains: ["@vitejs/plugin-react", "port: 5173"]
    - path: "web/tsconfig.json"
      provides: "TypeScript configuration for React app"
      contains: ["\"strict\": true", "ESNext"]
    - path: "web/src/main.tsx"
      provides: "React app entry point"
      contains: ["ReactDOM.createRoot"]
    - path: "web/src/App.tsx"
      provides: "Root React component"
      contains: ["function App", "export default App"]
  key_links:
    - from: "web/vite.config.ts"
      to: "http://localhost:5173"
      via: "Vite dev server"
      pattern: "port.*5173"
    - from: "web/src/main.tsx"
      to: "web/src/App.tsx"
      via: "React render"
      pattern: "import.*App.*from"
---

<objective>
Create the frontend application scaffold using Vite + React + TypeScript. This establishes the foundation for the web UI with proper build tooling, TypeScript configuration, and development server setup.

Purpose: Vite provides fast HMR and optimized builds, React is the UI library, TypeScript ensures type safety throughout the frontend codebase.

Output: Functional Vite React TypeScript app that runs on port 5173 with HMR working.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-foundation-project-setup/04-CONTEXT.md
@.planning/phases/04-foundation-project-setup/04-RESEARCH.md

# Existing codebase patterns
@/package.json
@/tsconfig.json
</context>

<tasks>

<task type="auto">
  <name>Initialize Vite React TypeScript project</name>
  <files>web/package.json, web/vite.config.ts, web/tsconfig.json, web/tsconfig.app.json, web/tsconfig.node.json, web/index.html</files>
  <action>
Create Vite React TypeScript project in web/ directory:

1. Create web/ directory
2. Run: `npm create vite@latest web -- --template react-ts`
3. Modify web/vite.config.ts:
   - Set server.port to 5173 (already default, document explicitly)
   - Add proxy configuration for /api to target http://localhost:8787 (prepare for phase 4-03)
   - Configure proxy to changeOrigin: true

4. Update web/tsconfig.app.json:
   - Ensure compilerOptions.baseUrl is "." for clean imports
   - Ensure compilerOptions.strict mode is enabled

DO NOT install dependencies yet (next task).
DO NOT modify default React template content beyond config files.
  </action>
  <verify>
ls -la web/ shows package.json, vite.config.ts, tsconfig files, index.html, src/
cat web/vite.config.ts | grep "port: 5173"
cat web/vite.config.ts | grep -A 3 "proxy:"
  </verify>
  <done>
Vite project scaffolded with TypeScript configs, vite config with port 5173 and proxy setup
  </done>
</task>

<task type="auto">
  <name>Install frontend dependencies</name>
  <files>web/package.json, package.json</files>
  <action>
Install frontend dependencies and add concurrently to root:

1. From web/ directory: `npm install`
2. From root: `npm install -D concurrently`
3. Update root package.json scripts:
   - Add "dev:web": "npm run dev --workspace=web"
   - Add "dev" script: "concurrently \"npm run dev:web\" \"npm run dev:server\"" (prepare for next plans)
   - Add "dev:ui" as alias to "dev"

Verify web/node_modules/ exists after install.
  </action>
  <verify>
ls web/node_modules/ | head -5
cat package.json | grep -A 1 '"dev:web"'
cat package.json | grep '"concurrently"'
  </verify>
  <done>
Frontend dependencies installed, root scripts configured for concurrent dev servers
  </done>
</task>

<task type="auto">
  <name>Verify Vite dev server starts and app loads</name>
  <files>web/src/main.tsx, web/src/App.tsx</files>
  <action>
Start Vite dev server and verify React app loads:

1. Start server: `npm run dev:web` from root
2. Wait for "Local: http://localhost:5173/" output
3. Verify server starts without errors
4. Check browser at http://localhost:5173 shows default Vite React template
5. Verify HMR works by editing web/src/App.tsx (add any text) and seeing it reflect in browser

DO NOT modify App.tsx content yet - just verify HMR works.
Stop server after verification (Ctrl+C).
  </action>
  <verify>
curl -s http://localhost:5173 | grep "react"
# Dev server should respond with HTML containing React root
  </verify>
  <done>
Vite dev server runs on port 5173, React app loads in browser, HMR works
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify:

1. `npm run dev:web` starts server on port 5173
2. Browser shows React app at http://localhost:5173
3. Editing App.tsx triggers HMR update in browser
4. web/package.json contains react, vite, @vitejs/plugin-react
5. Root package.json has dev:web script and concurrently dependency
</verification>

<success_criteria>
- [ ] web/ directory exists with Vite React TypeScript project
- [ ] npm run dev:web starts dev server on port 5173
- [ ] Browser loads React app without errors
- [ ] HMR works - changes to App.tsx appear immediately
- [ ] vite.config.ts has proxy configured for /api -> localhost:8787
- [ ] Root package.json has dev:web script and concurrently installed
</success_criteria>

<output>
After completion, create `.planning/phases/04-foundation-project-setup/04-01-SUMMARY.md`
</output>
