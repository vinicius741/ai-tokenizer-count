---
phase: 04-foundation-project-setup
plan: 02
type: execute
wave: 1
depends_on: [04-01]
files_modified:
  - web/components.json
  - web/tailwind.config.ts
  - web/src/index.css
  - web/src/lib/utils.ts
  - web/src/components/ui/button
  - web/src/components/ui/card
  - web/package.json
  - web/src/App.tsx
autonomous: false

must_haves:
  truths:
    - "shadcn/ui CLI initialized successfully with components.json created"
    - "Tailwind CSS is configured with zinc color theme"
    - "CSS variables for light/dark mode are defined in index.css"
    - "User can import Button and Card components from @/components/ui/button and @/components/ui/card"
    - "Button and Card components render with proper styling when used in App.tsx"
  artifacts:
    - path: "web/components.json"
      provides: "shadcn/ui configuration"
      contains: ["\"style\": \"new-york\"", "\"tailwind\":", "\"baseColor\": \"zinc\""]
    - path: "web/tailwind.config.ts"
      provides: "Tailwind CSS configuration"
      contains: ["content:", "theme:", "cssVariables"]
    - path: "web/src/index.css"
      provides: "Global CSS with Tailwind directives and theme variables"
      contains: ["@tailwind base", "@tailwind components", "@tailwind utilities", ":root", "@layer base"]
    - path: "web/src/lib/utils.ts"
      provides: "Utility functions for shadcn/ui (cn function)"
      contains: ["export function cn", "clsx", "tailwind-merge"]
    - path: "web/src/components/ui/button.tsx"
      provides: "Button component from shadcn/ui"
      contains: ["Button", "variant:", "size:"]
    - path: "web/src/components/ui/card.tsx"
      provides: "Card component from shadcn/ui"
      contains: ["Card", "CardHeader", "CardTitle", "CardContent"]
  key_links:
    - from: "web/components.json"
      to: "web/tailwind.config.ts"
      via: "shadcn/ui init command"
      pattern: "tailwind.config"
    - from: "web/src/index.css"
      to: "web/src/components/ui/*.tsx"
      via: "Tailwind CSS imports"
      pattern: "@tailwind"
    - from: "web/src/App.tsx"
      to: "web/src/components/ui/button"
      via: "Component import"
      pattern: "from.*components/ui/button"
---

<objective>
Install and configure shadcn/ui component library with Tailwind CSS. This provides accessible, customizable UI components with built-in dark mode support.

Purpose: shadcn/ui gives us production-ready components (Button, Card, Input, etc.) without building from scratch, ensuring accessibility and consistent design patterns.

Output: shadcn/ui initialized with zinc theme, Tailwind CSS configured, sample components added to verify setup.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-foundation-project-setup/04-CONTEXT.md
@.planning/phases/04-foundation-project-setup/04-RESEARCH.md

# Prior plan output
@.planning/phases/04-foundation-project-setup/04-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Initialize shadcn/ui with Tailwind CSS</name>
  <files>web/components.json, web/tailwind.config.ts, web/postcss.config.js, web/src/index.css, web/src/lib/utils.ts, web/package.json</files>
  <action>
Initialize shadcn/ui in the web/ directory:

1. From web/ directory, run: `npx shadcn@latest init`
2. Accept interactive prompts with these answers:
   - Style: "new-york"
   - Base color: "zinc"
   - CSS variables: "yes"
   - Tailwind config: "tailwind.config.ts"
   - Components path: "@/components"
   - Utils path: "@/lib/utils"
   - Import alias: "@"

3. Verify files created:
   - web/components.json
   - web/tailwind.config.ts (with theme config)
   - web/postcss.config.js
   - web/src/index.css (with @tailwind directives and CSS variables)
   - web/src/lib/utils.ts (cn function for className merging)

DO NOT manually create these files - let shadcn CLI generate them.
  </action>
  <verify>
cat web/components.json | grep -E '"style"|"baseColor"'
cat web/tailwind.config.ts | grep "cssVariables"
cat web/src/index.css | grep "@tailwind"
cat web/src/lib/utils.ts | grep "export function cn"
  </verify>
  <done>
shadcn/ui initialized with Tailwind CSS, components.json created, index.css has theme variables
  </done>
</task>

<task type="auto">
  <name>Add sample shadcn/ui components</name>
  <files>web/src/components/ui/button.tsx, web/src/components/ui/card.tsx</files>
  <action>
Add Button and Card components from shadcn/ui:

1. From web/ directory: `npx shadcn@latest add button`
2. From web/ directory: `npx shadcn@latest add card`

This copies component code into web/src/components/ui/

Verify components exist:
- web/src/components/ui/button.tsx
- web/src/components/ui/card.tsx

DO NOT modify component code - use default shadcn/ui implementation.
  </action>
  <verify>
ls web/src/components/ui/ | grep -E "button|card"
cat web/src/components/ui/button.tsx | grep "export.*Button"
cat web/src/components/ui/card.tsx | grep "Card"
  </verify>
  <done>
Button and Card components added to components/ui directory
  </done>
</task>

<task type="auto">
  <name>Update App.tsx to use shadcn/ui components</name>
  <files>web/src/App.tsx</files>
  <action>
Replace default Vite App.tsx content with shadcn/ui components:

1. Update web/src/App.tsx to:
```tsx
import { Button } from "@/components/ui/button"
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card"

function App() {
  return (
    <div className="min-h-screen bg-background p-8">
      <Card className="max-w-md mx-auto">
        <CardHeader>
          <CardTitle>EPUB Tokenizer Counter</CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <p className="text-muted-foreground">
            Web UI for counting words and tokens in EPUB files
          </p>
          <Button>Get Started</Button>
        </CardContent>
      </Card>
    </div>
  )
}

export default App
```

2. Remove any unused imports from default template
  </action>
  <verify>
cat web/src/App.tsx | grep "from.*components/ui"
cat web/src/App.tsx | grep "EPUB Tokenizer Counter"
  </verify>
  <done>
App.tsx uses shadcn/ui Button and Card components with Tailwind classes
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete shadcn/ui setup with Tailwind CSS configured and sample components rendered in App.tsx</what-built>
  <how-to-verify>
1. Start dev server: `npm run dev:web` from root (if not already running)
2. Visit http://localhost:5173
3. Verify you see:
   - White/gray background (depends on system dark mode)
   - Card component with border and shadow
   - "EPUB Tokenizer Counter" title
   - Description text below title
   - Blue "Get Started" button
4. Toggle your system dark mode setting and verify colors adjust automatically
5. Check browser console for no errors
  </how-to-verify>
  <resume-signal>Type "approved" if UI loads correctly with styled components, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
After all tasks complete, verify:

1. web/components.json exists with shadcn/ui config
2. web/tailwind.config.ts has theme configuration
3. web/src/index.css has @tailwind directives and CSS variables
4. web/src/lib/utils.ts exists with cn function
5. Button and Card components exist in components/ui/
6. App.tsx renders styled components
7. Dark mode toggles correctly based on system preference
</verification>

<success_criteria>
- [ ] shadcn/ui initialized with components.json
- [ ] Tailwind CSS configured with zinc color theme
- [ ] CSS variables for theming defined in index.css
- [ ] Button and Card components added to project
- [ ] App.tsx uses shadcn/ui components with Tailwind classes
- [ ] Components render with proper styling and dark mode support
- [ ] No console errors in browser
</success_criteria>

<output>
After completion, create `.planning/phases/04-foundation-project-setup/04-02-SUMMARY.md`
</output>
